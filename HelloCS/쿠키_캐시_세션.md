# 쿠키 vs 캐시 vs 세션

- http 통신의 특징 중 비연결성(conctionless)과 무상태(stateless)가 있다. 서버는 클라이언트의 상태를 저장하지 않고 서버가 응답을 마치면 클라이언트와의 연결이 끊어진다.
- 하지만 연결을 유지하고 상태를 저장해야하는 순간이 있기 때문에 이 부분을 보완하고자 나온 것이 쿠키, 캐시, 세션이다.

## 쿠키(Cookie)

1. 웹사이트 접속시 **사용자의 브라우저에 저장되는 정보(텍스트 파일)**이다.
   - 변수를 텍스트 파일로 저장해둔 값이다. &rarr; 구성요소 : `이름, 값, 유효기간, 도메인, 경로`
2. 정보의 **유효기간을 지정할 수 있고** 따로 기간을 정해두지 않으면 브라우저가 닫힐 때 삭제된다.

   - 다르게 말하면 유요기간 동안은 브라우저를 닫아도 삭제되지않고 유지된다.(클라이언트의 하드디스크에 저장됨)

3. 클라이언트는 총 300개의 쿠키를 저장할 수 있고 도메인 하나당 20개의 쿠키를 가질 수 있다.

   - 하나의 쿠키는 4KB (4096byte) 저장 가능하다.

4. 서버에 데이터를 요청하지 않고 클라이언트 쪽에서 바로 꺼내올 수 있기 때문에 **속도가 빠르다.**

### 단점

1. **보안성이 낮다.**
   - 클라이언트쪽에 보관되어 있기 때문에 접근이 쉽고 임의로 고치거나 지울 수 있다.
2. 용량이 제한적이다.
   - 쿠키는 하나당 4KB (4096byte)만 저장가능하고 도메인 하나당 20개의 쿠키가 넘어가면 오래된 순서대로 삭제된다.

## 세션(Session)

1. 쿠키는 사용자 정보를 클라이언트 측에 저장한다면 **세션은 서버쪽에 객체형태로 저장한다.**
2. 클라이언트의 요청에 서버가 응답을 보낼 때 유일한 ID를 부여하는데 이것을 `세션 ID`라고 한다. 그리고 이 ID를 통해 클라이언트를 구분한다.
3. 사용자의 정보를 서버에 저장하기 때문에 **보안에 좋지만** 사용자가 많아질수록 서버 자원을 많이 차지한다.
4. 웹 브라우저가 서버에 접속해서 브라우저를 종료할때까지 인증상태를 유지한다.
5. 저장 데이터에 제한이 없다.
6. 유효기간을 설정가능하나 기본적으로 **브라우저를 닫거나 서버에서 세션을 삭제하면 사라진다.**

## 캐시(Cache)

- 캐시란 **자주 사용하는 데이터나 값을 미리 복사해놓은 임시 장소**를 말한다.
- 캐시는 저장공간이 작고 비용이 비싸지만 속도가 빠르다.
- 반복적으로 동일한 결과를 돌려주는 경우(이미지나 썸네일)나 데이터에 접근하는 시간이 오래걸리는 경우에 사용하면 좋다.
  - 이미지나 썸네일 같이 자주 쓰이는 데이터를 Memory에 저장 하였다가 사용.
